(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{545:function(t,s,a){"use strict";a.r(s);var r=a(0),i=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),s("p",[t._v("settingslib用于系统原生settings的开发支持，当然我们也可以调用settingslib实现自己需要的设置功能，比如系统级蓝牙、系统级WiFi开发、声音、亮度、电量等等。所以settingslib毋庸置疑是需要系统签名、系统权限的系统级应用才能使用的。 如果你的项目是普通应用项目就请不需要在花费时间在这里了。")]),t._v(" "),s("h2",{attrs:{id:"架包流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#架包流程"}},[t._v("#")]),t._v(" 架包流程")]),t._v(" "),s("h3",{attrs:{id:"jar获取路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jar获取路径"}},[t._v("#")]),t._v(" jar获取路径")]),t._v(" "),s("p",[t._v("out\\target\\common\\obj\\JAVA_LIBRARIES\\SettingsLib_intermediates   这个是系统编译后的路径")]),t._v(" "),s("p",[t._v("目标jar")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/shug666/image/main/images/1497956-20230428191727830-1493260824.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"放入项目中的libs文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#放入项目中的libs文件"}},[t._v("#")]),t._v(" 放入项目中的libs文件")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/shug666/image/main/images/1497956-20230428191828669-1332248027.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"在build添加"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在build添加"}},[t._v("#")]),t._v(" 在build添加")]),t._v(" "),s("p",[t._v("请注意这里引用的是implementation 这与 framework 的架包不同，我们是需要settingslib.jar参加编译的")]),t._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[t._v("//framework里的的settingslib架包\nimplementation files('libs\\\\settingslib.jar')\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h2",{attrs:{id:"解决编译时可能出现的库冲突错误"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决编译时可能出现的库冲突错误"}},[t._v("#")]),t._v(" 解决编译时可能出现的库冲突错误")]),t._v(" "),s("p",[t._v("这是因为settingslib.jar内容也依赖了相同的库，与我们自己项目的库冲突了")]),t._v(" "),s("p",[t._v("报错如图：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/shug666/image/main/images/1497956-20230505110338022-1784659609.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"解决办法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决办法"}},[t._v("#")]),t._v(" 解决办法")]),t._v(" "),s("p",[t._v("用压缩包打开jar，直接根据上面的报错信息删除库文件目录")]),t._v(" "),s("p",[t._v("注意下面这个不能删除，这个是我们需要使用的settingslib库，")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/shug666/image/main/images/1497956-20230505110911771-1371722232.png",alt:""}})]),t._v(" "),s("p",[t._v("而jar里其他目录里的库文件如果冲突都可以删除，如下标记")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/shug666/image/main/images/1497956-20230505111052871-1016508734.png",alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img2023.cnblogs.com/blog/1497956/202305/1497956-20230505111120399-2102491437.png",alt:""}})]),t._v(" "),s("p",[t._v("本文转自 "),s("a",{attrs:{href:"https://www.cnblogs.com/guanxinjing/p/17363003.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.cnblogs.com/guanxinjing/p/17363003.html"),s("OutboundLink")],1),t._v("，如有侵权，请联系删除。")])])}),[],!1,null,null,null);s.default=i.exports}}]);